#!/bin/bash

make -s allclean
tput setaf 1; make -s src | sed '/^\s*$/d'
tput setaf 4; echo "REBUILD SERIAL B tests..."
tput setaf 0; make -s rebuild-tests

make -s allclean
tput setaf 1; make -s VECPOT=t src | sed '/^\s*$/d'
tput setaf 4; echo "REBUILD SERIAL A tests..."
tput setaf 0; make -s VECPOT=t rebuild-tests

make -s allclean
tput setaf 1; make -s BOPT=O src | sed '/^\s*$/d'
tput setaf 4; echo "REBUILD PARALLEL B tests..."
tput setaf 0; make -s BOPT=O rebuild-tests 

make -s allclean
tput setaf 1; make -s BOPT=O VECPOT=t src | sed '/^\s*$/d'
tput setaf 4; echo "REBUILD PARALLEL A tests..."
tput setaf 0; make -s BOPT=O VECPOT=t rebuild-tests

tput setaf 7; tput setab 4; echo "Done rebuilding tests."

tput sgr0
