c-----------------------------------------------------------------------
c     file debug.f.
c     prints matrix and quits.
c-----------------------------------------------------------------------
c-----------------------------------------------------------------------
c     declarations.
c-----------------------------------------------------------------------
      SUBROUTINE debug(a,l,m,n,name,iunit)
      IMPLICIT NONE

      CHARACTER(*) :: name
      INTEGER, INTENT(IN) :: l,m,n,iunit
      REAL(8), DIMENSION(l,n), INTENT(IN) :: a

      INTEGER :: i,j
c-----------------------------------------------------------------------
c     format statements.
c-----------------------------------------------------------------------
 10   FORMAT(/5x,"i",5x,"j",7x,"element"/)
 20   FORMAT(2i6,1p,e18.10)
c-----------------------------------------------------------------------
c     print matrix.
c-----------------------------------------------------------------------
      WRITE(iunit,'(2a,3(a,i4))')
     $     "matrix = ",TRIM(name),", l = ",l,", m = ",m,", n = ",n
      WRITE(iunit,10)
      DO j=1,n
         DO i=1,m
            WRITE(iunit,20)i,j,a(i,j)
         ENDDO
         WRITE(iunit,10)
      ENDDO
      WRITE(iunit,'(/)')
c-----------------------------------------------------------------------
c     terminate.
c-----------------------------------------------------------------------
      RETURN
      END SUBROUTINE debug
