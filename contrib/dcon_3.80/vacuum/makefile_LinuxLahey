# This is the makefile for VACUUM on LinuxLahey computers.

CFLAGS = -O2
FFLAGS = -O --o2
F90 = lf95 $(FFLAGS)

.f.o: 
	$(F90) -c $*.f

OBJS = \
	bzio.o \
	vacuum_global.o \
	vacuum_io.o \
	vacuum_ma.o \
	vacuum_math.o \
	vacuum_penn.o \
	vacuum_sprk2.o \
	vacuum_ut.o \
	vacuum_vac.o

libvac: $(OBJS)
	mkdir -p ../lib/LinuxLahey
	ar -r ../lib/LinuxLahey/libvac.a *.o

vacuum_diag.o: vacuum_global.o 
vacuum_io.o: vacuum_global.o
vacuum_ma.o: vacuum_global.o
vacuum_math.o: vacuum_global.o 
vacuum_sprk2.o: vacuum_global.o 
vacuum_ut.o: vacuum_global.o 
vacuum_vac.o: vacuum_global.o 

clean:
	rm -f *.o *.mod
